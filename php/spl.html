
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>spl · note</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="lifeng tao">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../git/" />
    
    
    <link rel="prev" href="php-unit.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    summary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../mysql/">
            
                <a href="../mysql/">
            
                    
                    mysql
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../mysql/master-slave.html">
            
                <a href="../mysql/master-slave.html">
            
                    
                    主从服务搭建和配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../mysql/inject.html">
            
                <a href="../mysql/inject.html">
            
                    
                    sql注入攻击
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../mysql/issue.html">
            
                <a href="../mysql/issue.html">
            
                    
                    mysql报错
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="./">
            
                <a href="./">
            
                    
                    php
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="intcoverstring.html">
            
                <a href="intcoverstring.html">
            
                    
                    int与string强制转换的原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="lower-upper.html">
            
                <a href="lower-upper.html">
            
                    
                    大小写转化原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="think-menu.html">
            
                <a href="think-menu.html">
            
                    
                    thinkphp框架
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="namespace.html">
            
                <a href="namespace.html">
            
                    
                    命名空间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="extension.html">
            
                <a href="extension.html">
            
                    
                    加载扩展文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="composer.html">
            
                <a href="composer.html">
            
                    
                    composer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="image-class.html">
            
                <a href="image-class.html">
            
                    
                    图片压缩/马赛克/验证码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="design-mode.html">
            
                <a href="design-mode.html">
            
                    
                    设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="psr.html">
            
                <a href="psr.html">
            
                    
                    psr
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="route.html">
            
                <a href="route.html">
            
                    
                    route原理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="pear.html">
            
                <a href="pear.html">
            
                    
                    pear安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="php-document.html">
            
                <a href="php-document.html">
            
                    
                    phpdoc安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="download-file.html">
            
                <a href="download-file.html">
            
                    
                    用户下载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="xdebug.html">
            
                <a href="xdebug.html">
            
                    
                    xdebug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="php-unit.html">
            
                <a href="php-unit.html">
            
                    
                    phpunit
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.16" data-path="spl.html">
            
                <a href="spl.html">
            
                    
                    spl
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../git/">
            
                <a href="../git/">
            
                    
                    git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../git/git-status.html">
            
                <a href="../git/git-status.html">
            
                    
                    git的三种状态
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../golang/">
            
                <a href="../golang/">
            
                    
                    golang
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../golang/http-proxy.html">
            
                <a href="../golang/http-proxy.html">
            
                    
                    http代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../golang/type-conver.html">
            
                <a href="../golang/type-conver.html">
            
                    
                    类型转换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../golang/go-build.html">
            
                <a href="../golang/go-build.html">
            
                    
                    go编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../golang/golang.org-package-download.html">
            
                <a href="../golang/golang.org-package-download.html">
            
                    
                    下载golang.org/x包
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../gitbook/">
            
                <a href="../gitbook/">
            
                    
                    gitbook
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../gitbook/install.html">
            
                <a href="../gitbook/install.html">
            
                    
                    1.0-安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../gitbook/init.html">
            
                <a href="../gitbook/init.html">
            
                    
                    1.1-初始化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../gitbook/struct.html">
            
                <a href="../gitbook/struct.html">
            
                    
                    1.2-结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../gitbook/plugin.html">
            
                <a href="../gitbook/plugin.html">
            
                    
                    1.3-插件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../http/">
            
                <a href="../http/">
            
                    
                    http
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../http/http-desc.html">
            
                <a href="../http/http-desc.html">
            
                    
                    1.0-什么是http
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../http/message.html">
            
                <a href="../http/message.html">
            
                    
                    1.1-请求报文和响应报文
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../http/method.html">
            
                <a href="../http/method.html">
            
                    
                    1.2-请求方式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../http/cookie.html">
            
                <a href="../http/cookie.html">
            
                    
                    1.3-了解cookie
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../http/status.html">
            
                <a href="../http/status.html">
            
                    
                    1.4-响应报文的状态码
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../linux/">
            
                <a href="../linux/">
            
                    
                    linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../linux/LMNAP.html">
            
                <a href="../linux/LMNAP.html">
            
                    
                    LMNAP安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../linux/mount.html">
            
                <a href="../linux/mount.html">
            
                    
                    挂载/分区/格式化磁盘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../linux/vpn.html">
            
                <a href="../linux/vpn.html">
            
                    
                    vpn
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../linux/inode-full.html">
            
                <a href="../linux/inode-full.html">
            
                    
                    INode被占满
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../jquery/">
            
                <a href="../jquery/">
            
                    
                    Jquery
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../jquery/ajax.html">
            
                <a href="../jquery/ajax.html">
            
                    
                    ajax
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="../news/">
            
                <a href="../news/">
            
                    
                    news
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../news/neihanduanzi.html">
            
                <a href="../news/neihanduanzi.html">
            
                    
                    内涵段子关停
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../code-repos/">
            
                <a href="../code-repos/">
            
                    
                    code-repository
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../code-repos/tb-magnifying.html">
            
                <a href="../code-repos/tb-magnifying.html">
            
                    
                    淘宝放大镜
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../code-repos/lnmp-package.html">
            
                <a href="../code-repos/lnmp-package.html">
            
                    
                    lnmp一键安装脚本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../code-repos/mysql-cnf.html">
            
                <a href="../code-repos/mysql-cnf.html">
            
                    
                    mysql配置文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../code-repos/sql-backup.html">
            
                <a href="../code-repos/sql-backup.html">
            
                    
                    mysql备份shell脚本
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../docker/">
            
                <a href="../docker/">
            
                    
                    docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../docker/install.html">
            
                <a href="../docker/install.html">
            
                    
                    1.0安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../docker/use.html">
            
                <a href="../docker/use.html">
            
                    
                    1.1使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../rsync/">
            
                <a href="../rsync/">
            
                    
                    rsync
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../rsync/install.html">
            
                <a href="../rsync/install.html">
            
                    
                    1.0安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../rsync/use.html">
            
                <a href="../rsync/use.html">
            
                    
                    1.1使用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="../css/">
            
                <a href="../css/">
            
                    
                    css
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../css/less.html">
            
                <a href="../css/less.html">
            
                    
                    less的使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../css/BFC.html">
            
                <a href="../css/BFC.html">
            
                    
                    BFC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../css/line-block.html">
            
                <a href="../css/line-block.html">
            
                    
                    行内块元素line-block
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="../security/">
            
                <a href="../security/">
            
                    
                    security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="../security/xss.html">
            
                <a href="../security/xss.html">
            
                    
                    xss注入攻击
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="../javascript/">
            
                <a href="../javascript/">
            
                    
                    js
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="../javascript/async.html">
            
                <a href="../javascript/async.html">
            
                    
                    单线程定时器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="../javascript/worke.html">
            
                <a href="../javascript/worke.html">
            
                    
                    worke多线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="../javascript/base.html">
            
                <a href="../javascript/base.html">
            
                    
                    基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="../javascript/optimize.html">
            
                <a href="../javascript/optimize.html">
            
                    
                    优化点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="../javascript/jsonp.html">
            
                <a href="../javascript/jsonp.html">
            
                    
                    JSONP
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="../algorithm/">
            
                <a href="../algorithm/">
            
                    
                    algorithm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="../algorithm/binary-query.html">
            
                <a href="../algorithm/binary-query.html">
            
                    
                    二分查询
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="../html/">
            
                <a href="../html/">
            
                    
                    html
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="../html/school/">
            
                <a href="../html/school/">
            
                    
                    教程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1.1" data-path="../html/school/1.0know.html">
            
                <a href="../html/school/1.0know.html">
            
                    
                    1.0初识HTML
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="../html/meta-label.html">
            
                <a href="../html/meta-label.html">
            
                    
                    meta
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >spl</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="&#x4EC0;&#x4E48;&#x662F;spl">&#x4EC0;&#x4E48;&#x662F;SPL?</h3>
<p>SPL &#x6807;&#x51C6;&#x5E93;(Standard PHP Library)&#x662F;&#x7528;&#x4E8E;&#x89E3;&#x51B3;&#x5178;&#x578B;&#x95EE;&#x9898;(standard problems)&#x7684;&#x4E00;&#x7EC4;&#x63A5;&#x53E3;&#x4E0E;&#x7C7B;&#x7684;&#x96C6;&#x5408;, &#x4ECE;PHP5.3&#x5F00;&#x59CB;SPL&#x4E0D;&#x80FD;&#x88AB;&#x7981;&#x6389;.</p>
<h3 id="&#x6570;&#x636E;&#x7ED3;&#x6784;">&#x6570;&#x636E;&#x7ED3;&#x6784;</h3>
<p>&#x53CC;&#x5411;&#x94FE;&#x8868;<code>SplDoublyLinkedList</code>, &#x5B9E;&#x73B0;&#x4E86;&#x8FED;&#x4EE3;&#x5668;,&#x53CA;&#x6570;&#x7EC4;&#x7684;&#x8BBF;&#x95EE; &#x53EF;&#x4F7F;&#x7528;<code>foreach</code>&#x8FDB;&#x884C;&#x904D;&#x5386;</p>
<p><img src="../assets/78200a9bda1da528ae53bd6a77d4b7a6.jpg" alt=""></p>
<pre><code class="lang-php">$spl = <span class="hljs-keyword">new</span> SplDoublyLinkedList();

<span class="hljs-comment">//&#x63A8;&#x9001;&#x6570;&#x636E;</span>
$spl-&gt;push(<span class="hljs-string">&apos;tao&apos;</span>);
$spl-&gt;push(<span class="hljs-string">&apos;li&apos;</span>);
$spl-&gt;push(<span class="hljs-string">&apos;feng&apos;</span>);
$spl-&gt;push(<span class="hljs-string">&apos;123&apos;</span>);

<span class="hljs-comment">//&#x5220;&#x9664;&#x4E86;123</span>
$spl-&gt;pop();

<span class="hljs-comment">//&#x91CD;&#x7F6E;&#x5230;&#x5F00;&#x5934;, &#x8C03;&#x7528;&#x6307;&#x9488;&#x64CD;&#x4F5C;&#x7B2C;&#x4E00;&#x6B21;&#x5FC5;&#x987B;rewind&#x6307;&#x5411;&#x8282;&#x70B9;&#x5934;</span>
$spl-&gt;rewind();

$spl-&gt;next();
$spl-&gt;prev();
$spl-&gt;next();

<span class="hljs-comment">//&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x6EA2;&#x51FA;(&#x6709;&#x6548;)</span>
<span class="hljs-keyword">if</span>(!$spl-&gt;valid()){
    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;invalid&quot;</span>;<span class="hljs-keyword">die</span>;
}

<span class="hljs-comment">//&#x5982;&#x679C;&#x6EA2;&#x51FA;current&#x4F1A;&#x8FD4;&#x56DE;NULL</span>
<span class="hljs-comment">//&#x5982;&#x679C;&#x6307;&#x5B9A;&#x7684;&#x8282;&#x70B9;&#x88AB;pop, &#x5728;&#x8FD4;&#x56DE;current, &#x540C;&#x6837;&#x4F1A;&#x8FD4;&#x56DE;NULL</span>
<span class="hljs-comment">//current, bottom, top&#x4EE3;&#x8868;&#x4E0D;&#x540C;&#x65B9;&#x5411;&#x7684;&#x6307;&#x9488;, &#x5206;&#x522B;&#x4EE3;&#x8868;&#x5F53;&#x524D;, &#x5934;&#x90E8;, &#x5C3E;&#x90E8;</span>
var_dump(
    $spl-&gt;current(), count($spl), $spl, $spl-&gt;bottom(), $spl-&gt;top()
);
</code></pre>
<hr>
<p>&#x961F;&#x5217;<code>SplQueue</code>&#x7EE7;&#x627F;&#x4E86;<code>SplDoublyLinkedList</code>, &#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>SplDoublyLinkedList</code>&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;, &#x540C;&#x65F6;&#x65B0;&#x589E;<code>enqueue</code> &#x548C; <code>dequeue</code>&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;, &#x7528;&#x4E8E;&#x51FA;&#x961F;&#x548C;&#x5165;&#x961F;.
<img src="../assets/c6f77fa3f8635f2f070e10607b3a02b0.jpg" alt=""></p>
<pre><code class="lang-php"><span class="hljs-comment">//&#x961F;&#x5217; &#x5148;&#x8FDB;&#x5148;&#x51FA;</span>
$spl = <span class="hljs-keyword">new</span> SplQueue();

<span class="hljs-comment">//&#x5165;&#x961F;</span>
$spl-&gt;enqueue(<span class="hljs-string">&apos;a&apos;</span>);
$spl-&gt;enqueue(<span class="hljs-string">&apos;b&apos;</span>);
$spl-&gt;enqueue(<span class="hljs-string">&apos;c&apos;</span>);

$spl-&gt;rewind();
$spl-&gt;next();

<span class="hljs-comment">//b</span>
<span class="hljs-keyword">echo</span> $spl-&gt;current() . <span class="hljs-string">&quot;\n&quot;</span>;

<span class="hljs-comment">//&#x5220;&#x9664;&#x4E86;a, &#x51FA;&#x961F;&#x5217;&#x64CD;&#x4F5C;</span>
$spl-&gt;dequeue();

var_dump($spl);
</code></pre>
<hr>
<p>&#x5806;&#x6808;<code>SplQueue</code>&#x7EE7;&#x627F;&#x4E86;<code>SplDoublyLinkedList</code>, &#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>SplDoublyLinkedList</code>&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;.
<img src="../assets/a61b4edfed878927252207f9571ca00f.jpg" alt=""></p>
<pre><code class="lang-php"><span class="hljs-comment">//&#x5806;&#x6808; &#x5148;&#x8FDB;&#x5148;&#x51FA; &#x540E;&#x8FDB;&#x540E;&#x51FA;, &#x548C;&#x6B63;&#x5E38;&#x7684;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#x76F8;&#x53CD;</span>
$spl = <span class="hljs-keyword">new</span> SplStack();
$spl-&gt;push(<span class="hljs-string">&apos;a&apos;</span>);
$spl-&gt;push(<span class="hljs-string">&apos;b&apos;</span>);
$spl-&gt;push(<span class="hljs-string">&apos;c&apos;</span>);


<span class="hljs-comment">//c</span>
$spl-&gt;rewind();
var_dump($spl-&gt;current());

<span class="hljs-comment">//b</span>
$spl-&gt;next();
var_dump($spl-&gt;current());

<span class="hljs-comment">//&#x5220;&#x9664;c</span>
$spl-&gt;pop();

<span class="hljs-comment">//a</span>
var_dump($spl-&gt;bottom());

<span class="hljs-comment">//b</span>
var_dump($spl-&gt;top());
</code></pre>
<h3 id="&#x8FED;&#x4EE3;&#x5668;">&#x8FED;&#x4EE3;&#x5668;</h3>
<p><code>ArrayIterator</code>&#x662F;&#x9488;&#x5BF9;&#x6570;&#x7EC4;&#x7684;&#x8FED;&#x4EE3;&#x5668;, &#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5F88;&#x591A;&#x9AD8;&#x7EA7;&#x7684;&#x64CD;&#x4F5C;</p>
<pre><code>//&#x76F4;&#x63A5;&#x5B9E;&#x4F8B;&#x5316;ArrayIterator
$arrayIter1 = new ArrayIterator([3, 1, 2]);

//&#x66F4;&#x5177;value&#x6392;&#x5E8F;, &#x6B64;&#x5916;&#x8FD8;&#x6709;&#x5F88;&#x591A;&#x7684;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;
$arrayIter1-&gt;asort();

//&#x5B9E;&#x4F8B;&#x5316;
foreach ($arrayIter1 as $k =&gt; $v){
    printf(&quot;key:%s\nvalue:%s\n&quot;, $k , $v);
}
print_r(&quot;\n\n\n&quot;);


//&#x5B9E;&#x4F8B;&#x5316;ArrayObject
$obj = new ArrayObject([&apos;name&apos;=&gt;&apos;tao&apos;, &apos;age&apos; =&gt; 12]);

//&#x83B7;&#x53D6;ArrayIterator&#x7C7B;
$arrayIter2 = $obj-&gt;getIterator();
foreach ($arrayIter2 as $k =&gt; $v){
    printf(&quot;key:%s\nvalue:%s\n&quot;, $k , $v);
}
print_r(&quot;\n\n\n&quot;);
</code></pre><hr>
<p><code>AppendIterator</code>&#x5408;&#x5E76;&#x591A;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;, &#x7C7B;&#x4F3C;&#x4E8E;<code>array_merge</code>&#x65B9;&#x6CD5;</p>
<pre><code class="lang-php"><span class="hljs-comment">//&#x5408;&#x5E76;&#x4E24;&#x4E2A;ArrayIterator</span>
$append = <span class="hljs-keyword">new</span> AppendIterator();
$append-&gt;append($arrayIter1);
$append-&gt;append($arrayIter2);

<span class="hljs-keyword">foreach</span> ($append <span class="hljs-keyword">as</span> $k =&gt; $v){
printf(<span class="hljs-string">&quot;key:%s\nvalue:%s\n&quot;</span>, $k , $v);
}
</code></pre>
<hr>
<p><code>MultipleIterator</code>&#x7EC4;&#x5408;&#x591A;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;</p>
<pre><code class="lang-php">$i1 = <span class="hljs-keyword">new</span> ArrayIterator([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
$i2 = <span class="hljs-keyword">new</span> ArrayIterator([<span class="hljs-string">&apos;taolifeng&apos;</span>, <span class="hljs-string">&apos;zhangshan&apos;</span>, <span class="hljs-string">&apos;lisi&apos;</span>]);
$i3 = <span class="hljs-keyword">new</span> ArrayIterator([<span class="hljs-number">22</span>, <span class="hljs-number">23</span>, <span class="hljs-number">34</span>]);


$mult = <span class="hljs-keyword">new</span> MultipleIterator(MultipleIterator::MIT_KEYS_ASSOC);

$mult-&gt;attachIterator($i1, <span class="hljs-string">&apos;id&apos;</span>);
$mult-&gt;attachIterator($i2, <span class="hljs-string">&apos;name&apos;</span>);
$mult-&gt;attachIterator($i3, <span class="hljs-string">&apos;age&apos;</span>);

<span class="hljs-keyword">foreach</span> ($mult <span class="hljs-keyword">as</span> $v){
    print_r($v);
}
</code></pre>
<hr>
<p><code>RecursiveArrayIterator</code>&#x8FED;&#x4EE3;&#x5668;, &#x4E00;&#x822C;&#x7528;&#x4E8E;&#x6811;&#x5F62;&#x7ED3;&#x6784;&#x7684;&#x904D;&#x5386;, &#x8BE5;&#x7C7B;&#x5B9E;&#x73B0;&#x4E86;RecursiveIterator, &#x540C;&#x65F6;&#x65B0;&#x589E;hasChildren, &#x548C;getChildren&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;</p>
<pre><code class="lang-php">
$myArray = <span class="hljs-keyword">array</span>(
    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;a&apos;</span>,
    <span class="hljs-number">1</span> =&gt; <span class="hljs-keyword">array</span>(<span class="hljs-string">&apos;subA&apos;</span>, <span class="hljs-string">&apos;subB&apos;</span>, <span class="hljs-keyword">array</span>(<span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;subsubA&apos;</span>, <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;subsubB&apos;</span>, <span class="hljs-number">2</span> =&gt; <span class="hljs-keyword">array</span>(<span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;deepA&apos;</span>, <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;deepB&apos;</span>))),
    <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&apos;b&apos;</span>,
    <span class="hljs-number">3</span> =&gt; <span class="hljs-keyword">array</span>(<span class="hljs-string">&apos;subA&apos;</span>, <span class="hljs-string">&apos;subB&apos;</span>, <span class="hljs-string">&apos;subC&apos;</span>),
    <span class="hljs-number">4</span> =&gt; <span class="hljs-string">&apos;c&apos;</span>
);

<span class="hljs-comment">//&#x5B9E;&#x4F8B;&#x5316; RecursiveArrayIterator&#x7C7B;</span>
$iterator = <span class="hljs-keyword">new</span> RecursiveArrayIterator($myArray);


<span class="hljs-comment">//&#x6811;&#x7ED3;&#x6784;&#x7684;&#x904D;&#x5386;</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">traverseStructure</span><span class="hljs-params">($iterator)</span>
</span>{
    <span class="hljs-keyword">while</span> ($iterator-&gt;valid()) {
        <span class="hljs-keyword">if</span> ($iterator-&gt;hasChildren()) {
            traverseStructure($iterator-&gt;getChildren());
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">echo</span> $iterator-&gt;key() . <span class="hljs-string">&apos; : &apos;</span> . $iterator-&gt;current() . PHP_EOL;
        }
        $iterator-&gt;next();
    }
}

traverseStructure($iterator);
</code></pre>
<hr>
<p><code>FilesystemIterator</code>&#x548C;<code>DirectoryIterator</code>&#x662F;&#x9488;&#x5BF9;&#x6587;&#x4EF6;&#x7684;&#x8FED;&#x4EE3;&#x5668;, &#x8FED;&#x4EE3;&#x8FD4;&#x56DE;&#x7684;FileInfo&#x7C7B;, &#x91CC;&#x9762;&#x5C01;&#x88C5;&#x4E86;&#x5F88;&#x591A;&#x65B9;&#x6CD5;, &#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x8D44;&#x6E90;&#x7684;&#x91CA;&#x653E;.</p>
<pre><code class="lang-php"><span class="hljs-comment">//&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8FED;&#x4EE3;, &#x7EE7;&#x627F;DirectoryIterator</span>
$fileIterator = <span class="hljs-keyword">new</span> FilesystemIterator(<span class="hljs-string">&apos;.&apos;</span>);

<span class="hljs-keyword">foreach</span> ($fileIterator <span class="hljs-keyword">as</span> $fileInfo) {
    <span class="hljs-comment">//&#x8FD4;&#x56DE; SplFileInfo&#x7C7B;</span>
    print_r($fileInfo-&gt;getFileName() . <span class="hljs-string">&quot;\n&quot;</span>);
}
print_r(<span class="hljs-string">&quot;\n\n\n&quot;</span>);


<span class="hljs-comment">//DirectoryIterator&#x4F1A;&#x6253;&#x5370; . &#x548C; ..</span>
$dirIterator = <span class="hljs-keyword">new</span> DirectoryIterator(<span class="hljs-string">&apos;.&apos;</span>);
<span class="hljs-keyword">foreach</span> ($dirIterator <span class="hljs-keyword">as</span> $fileInfo) {
    <span class="hljs-comment">//&#x8FD4;&#x56DE; SplFileInfo&#x7C7B;</span>
    print_r($fileInfo-&gt;getFileName() . <span class="hljs-string">&quot;\n&quot;</span>);
}
print_r(<span class="hljs-string">&quot;\n\n\n&quot;</span>);

<span class="hljs-comment">//&#x5355;&#x72EC;&#x4F7F;&#x7528;SplFileInfo</span>
$fileInfo = <span class="hljs-keyword">new</span> SplFileInfo(<span class="hljs-string">&apos;ArrayAccess.php&apos;</span>);
print_r($fileInfo-&gt;getFilename());


<span class="hljs-comment">//&#x5173;&#x95ED;&#x6587;&#x4EF6;</span>
<span class="hljs-keyword">print</span> <span class="hljs-string">&quot;Declaring file object\n&quot;</span>;
$file = <span class="hljs-keyword">new</span> SplFileObject(<span class="hljs-string">&apos;example.txt&apos;</span>);

<span class="hljs-keyword">print</span> <span class="hljs-string">&quot;Trying to delete file...\n&quot;</span>;
<span class="hljs-comment">//unset($file) &#x9500;&#x6BC1;&#x53D8;&#x91CF;, &#x53CA;&#x65F6;&#x91CA;&#x653E;&#x8D44;&#x6E90;, &#x9632;&#x6B62;&#x65E0;&#x6CD5;&#x5220;&#x9664;&#x6587;&#x4EF6;</span>
unlink(<span class="hljs-string">&apos;example.txt&apos;</span>);
</code></pre>
<h3 id="&#x63A5;&#x53E3;">&#x63A5;&#x53E3;</h3>
<p><code>ArrayAccess</code>&#x63A5;&#x53E3;&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#x50CF;&#x6570;&#x7EC4;&#x7684;&#x5F62;&#x5F0F;&#x8BBF;&#x95EE;</p>
<pre><code class="lang-php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">myObj</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">ArrayAccess</span>
</span>{


    <span class="hljs-keyword">public</span> $arr = [

        <span class="hljs-string">&apos;one&apos;</span> =&gt; <span class="hljs-string">&apos;hello&apos;</span>,
        <span class="hljs-string">&apos;two&apos;</span> =&gt; <span class="hljs-string">&apos;word&apos;</span>,
        <span class="hljs-string">&apos;three&apos;</span> =&gt; <span class="hljs-string">&apos;this&apos;</span>,
        <span class="hljs-string">&apos;four&apos;</span> =&gt; <span class="hljs-string">&apos;is&apos;</span>,
        <span class="hljs-string">&apos;five&apos;</span> =&gt; <span class="hljs-string">&apos;blog&apos;</span>,

    ];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offsetExists</span><span class="hljs-params">($offset)</span>
    </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Implement offsetExists() method.</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">isset</span>(<span class="hljs-keyword">$this</span>-&gt;arr[$offset]);
    }


    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offsetGet</span><span class="hljs-params">($offset)</span>
    </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Implement offsetGet() method.</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;offsetExists($offset) ? <span class="hljs-keyword">$this</span>-&gt;arr[$offset] : <span class="hljs-keyword">null</span>;

    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offsetSet</span><span class="hljs-params">($offset, $value)</span>
    </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Implement offsetSet() method.</span>

        <span class="hljs-keyword">if</span> (is_null($offset)) {
            <span class="hljs-keyword">$this</span>-&gt;arr[] = $value;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">$this</span>-&gt;arr[$offset] = $value;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">offsetUnset</span><span class="hljs-params">($offset)</span>
    </span>{
        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Implement offsetUnset() method.</span>
        <span class="hljs-keyword">unset</span>(<span class="hljs-keyword">$this</span>-&gt;arr[$offset]);

    }

}


$obj = <span class="hljs-keyword">new</span> myObj;

<span class="hljs-keyword">echo</span> $obj[<span class="hljs-string">&apos;one&apos;</span>];
</code></pre>
<hr>
<p><code>Countable</code>&#x63A5;&#x53E3;&#x7528;&#x4E8E;count&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;</p>
<pre><code>class Demo implements Countable{

    public $arr = [];

    function __construct($arr)
    {
        $this-&gt;arr = $arr;
    }


    //&#x5B9E;&#x73B0;count&#x65B9;&#x6CD5;
    public function count()
    {
        // TODO: Implement count() method.

        return count($this-&gt;arr);
    }
}

echo count(new Demo([1,2,3]));
</code></pre><hr>
<p><code>IteratorIterator</code>&#x63A5;&#x53E3;&#x81EA;&#x5DF1;&#x5199;&#x8FED;&#x4EE3;&#x89C4;&#x5219;</p>
<pre><code class="lang-php"><span class="hljs-comment">//&#x5982;&#x679C;&#x5728;&#x8FED;&#x4EE3;&#x4E2D;&#x60F3;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x5904;&#x7406;, &#x53EF;&#x4EE5;&#x7EE7;&#x627F;IteratorIterator&#x5B83;&#x662F;OuterIterator&#x7684;&#x5B9E;&#x73B0;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">IteratorIterator</span>
</span>{

    <span class="hljs-comment">//&#x8986;&#x5199;key&#x65B9;&#x6CD5;</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">key</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;header--&quot;</span> . <span class="hljs-keyword">parent</span>::key(); <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Change the autogenerated stub</span>


    }

    <span class="hljs-comment">//&#x8986;&#x5199;current&#x65B9;&#x6CD5;</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">current</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;tail--&quot;</span> . <span class="hljs-keyword">parent</span>::current(); <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Change the autogenerated stub</span>
    }
}

$demo = <span class="hljs-keyword">new</span> Demo(<span class="hljs-keyword">new</span> ArrayIterator([<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>]));

<span class="hljs-keyword">foreach</span> ($demo <span class="hljs-keyword">as</span> $k =&gt; $v){
    print_r($k . $v . <span class="hljs-string">&quot;\n&quot;</span>);
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="php-unit.html" class="navigation navigation-prev " aria-label="Previous page: phpunit">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../git/" class="navigation navigation-next " aria-label="Next page: git">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"spl","level":"1.3.16","depth":2,"next":{"title":"git","level":"1.4","depth":1,"path":"git/README.md","ref":"git/README.md","articles":[{"title":"git的三种状态","level":"1.4.1","depth":2,"path":"git/git-status.md","ref":"git/git-status.md","articles":[]}]},"previous":{"title":"phpunit","level":"1.3.15","depth":2,"path":"php/php-unit.md","ref":"php/php-unit.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-small","fontsettings","sharing","lunr","search","highlight","livereload","livereload"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"expandable-chapters-small":{},"fontsettings":{"family":"sans","size":2,"theme":"white"},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"lunr":{"ignoreSpecialCharacters":false,"maxIndexSize":1000000},"search":{},"highlight":{},"livereload":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"lifeng tao","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"note","gitbook":"*","description":"我的笔记"},"file":{"path":"php/spl.md","mtime":"2019-05-20T14:43:27.338Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-05-22T10:42:49.985Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    

    </body>
</html>

